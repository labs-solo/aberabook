"use strict";(self.webpackChunkstrapi_docs=self.webpackChunkstrapi_docs||[]).push([[2611],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>c});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),d=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),s=d(n),c=r,g=s["".concat(p,".").concat(c)]||s[c]||m[c]||i;return n?a.createElement(g,o(o({ref:t},u),{},{components:n})):a.createElement(g,o({ref:t},u))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=s;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var d=2;d<i;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},75908:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>g,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=n(83117),r=(n(67294),n(3905));const i={title:"Email Provider",displayed_sidebar:"cloudSidebar",description:"Configure Strapi Cloud to use a third-party email provider.",canonicalUrl:"https://docs.strapi.io/cloud/advanced/email.html"},o="Email Provider",l={unversionedId:"cloud/advanced/email",id:"cloud/advanced/email",title:"Email Provider",description:"Configure Strapi Cloud to use a third-party email provider.",source:"@site/docs/cloud/advanced/email.md",sourceDirName:"cloud/advanced",slug:"/cloud/advanced/email",permalink:"/aberabook/cloud/advanced/email",draft:!1,editUrl:"https://github.com/labs-solo/aberabook/edit/main/docusaurus/docs/cloud/advanced/email.md",tags:[],version:"current",frontMatter:{title:"Email Provider",displayed_sidebar:"cloudSidebar",description:"Configure Strapi Cloud to use a third-party email provider.",canonicalUrl:"https://docs.strapi.io/cloud/advanced/email.html"},sidebar:"cloudSidebar",previous:{title:"Database",permalink:"/aberabook/cloud/advanced/database"},next:{title:"Upload Provider",permalink:"/aberabook/cloud/advanced/upload"}},p={},d=[{value:"Configuration",id:"configuration",level:2},{value:"Install the Provider Plugin",id:"install-the-provider-plugin",level:3},{value:"Configure the Provider",id:"configure-the-provider",level:3},{value:"Strapi Cloud Configuration",id:"strapi-cloud-configuration",level:3},{value:"Deployment",id:"deployment",level:2}],u=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)},m=u("Tabs"),s=u("TabItem"),c={toc:d};function g(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"email-provider"},"Email Provider"),(0,r.kt)("p",null,"Strapi Cloud comes with a basic email provider out of the box. However, it can also be configured to utilize another email provider, if needed."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Please be advised that Strapi are unable to provide support for third-party email providers.")),(0,r.kt)("admonition",{type:"prerequisites"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"A local Strapi project running on ",(0,r.kt)("inlineCode",{parentName:"li"},"v4.8.2+"),"."),(0,r.kt)("li",{parentName:"ul"},"Credentials for another email provider (see ",(0,r.kt)("a",{parentName:"li",href:"https://market.strapi.io/providers"},"Strapi Market"),")."))),(0,r.kt)("h2",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"Configuring another email provider for use with Strapi Cloud requires 3 steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Install the provider plugin in your local Strapi project."),(0,r.kt)("li",{parentName:"ol"},"Configure the provider in your local Strapi project."),(0,r.kt)("li",{parentName:"ol"},"Add environment variables to the Strapi Cloud project.")),(0,r.kt)("h3",{id:"install-the-provider-plugin"},"Install the Provider Plugin"),(0,r.kt)("p",null,"Using either ",(0,r.kt)("inlineCode",{parentName:"p"},"npm")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn"),", install the provider plugin in your local Strapi project as a package dependency by following the instructions in the respective entry for that provider in the ",(0,r.kt)("a",{parentName:"p",href:"https://market.strapi.io/providers"},"Marketplace"),"."),(0,r.kt)("h3",{id:"configure-the-provider"},"Configure the Provider"),(0,r.kt)("p",null,"In your Strapi project, create a ",(0,r.kt)("inlineCode",{parentName:"p"},"./config/env/production/plugins.js")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"./config/env/production/plugins.ts")," file with the following content:"),(0,r.kt)(m,{groupId:"js-ts",mdxType:"Tabs"},(0,r.kt)(s,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=./config/env/production/plugins.js",title:"./config/env/production/plugins.js"},"\nmodule.exports = ({ env }) => ({\n  // \u2026 some unrelated plugins configuration options\n  // highlight-start\n  email: {\n    config: {\n        // \u2026 provider-specific upload configuration options go here\n    }\n  // highlight-end\n  // \u2026 some other unrelated plugins configuration options\n  }\n});\n"))),(0,r.kt)(s,{value:"ts",label:"TypeScript",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title=./config/env/production/plugins.ts",title:"./config/env/production/plugins.ts"},"\nexport default ({ env }) => ({\n  // \u2026 some unrelated plugins configuration options\n  // highlight-start\n  email: {\n    config: {\n        // \u2026 provider-specific upload configuration options go here\n    }\n  // highlight-end\n  // \u2026 some other unrelated plugins configuration options\n  }\n});\n")))),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"The file structure must match the above path exactly, or the configuration will not be applied to Strapi Cloud.")),(0,r.kt)("p",null,"Each provider will have different configuration settings available. Review the respective entry for that provider in the ",(0,r.kt)("a",{parentName:"p",href:"https://market.strapi.io/providers"},"Marketplace"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example:")),(0,r.kt)(m,{groupId:"js-ts",mdxType:"Tabs"},(0,r.kt)(s,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,r.kt)(m,{groupId:"email-examples",mdxType:"Tabs"},(0,r.kt)(s,{value:"sendgrid",label:"Sendgrid",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=./config/env/production/plugins.js",title:"./config/env/production/plugins.js"},"module.exports = ({ env }) => ({\n  // ...\n  email: {\n    config: {\n      provider: 'sendgrid',\n      providerOptions: {\n        apiKey: env('SENDGRID_API_KEY'),\n      },\n      settings: {\n        defaultFrom: 'myemail@protonmail.com',\n        defaultReplyTo: 'myemail@protonmail.com',\n      },\n    },\n  },\n  // ...\n});\n"))),(0,r.kt)(s,{value:"amazon-ses",label:"Amazon SES",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=./config/env/production/plugins.js",title:"./config/env/production/plugins.js"},"module.exports = ({ env }) => ({\n  // ...\n  email: {\n    config: {\n      provider: 'amazon-ses',\n      providerOptions: {\n        key: env('AWS_SES_KEY'),\n        secret: env('AWS_SES_SECRET'),\n        amazon: 'https://email.us-east-1.amazonaws.com',\n      },\n      settings: {\n        defaultFrom: 'myemail@protonmail.com',\n        defaultReplyTo: 'myemail@protonmail.com',\n      },\n    },\n  },\n  // ...\n});\n"))),(0,r.kt)(s,{value:"mailgun",label:"Mailgun",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=./config/env/production/plugins.js",title:"./config/env/production/plugins.js"},"module.exports = ({ env }) => ({\n  // ...\n  email: {\n    config: {\n      provider: 'mailgun',\n      providerOptions: {\n        key: env('MAILGUN_API_KEY'), // Required\n        domain: env('MAILGUN_DOMAIN'), // Required\n        url: env('MAILGUN_URL', 'https://api.mailgun.net'), //Optional. If domain region is Europe use 'https://api.eu.mailgun.net'\n      },\n      settings: {\n        defaultFrom: 'myemail@protonmail.com',\n        defaultReplyTo: 'myemail@protonmail.com',\n      },\n    },\n  },\n  // ...\n});\n"))))),(0,r.kt)(s,{value:"ts",label:"TypeScript",mdxType:"TabItem"},(0,r.kt)(m,{groupId:"email-examples",mdxType:"Tabs"},(0,r.kt)(s,{value:"sendgrid",label:"Sendgrid",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title=./config/env/production/plugins.ts",title:"./config/env/production/plugins.ts"},"export default ({ env }) => ({\n  // ...\n  email: {\n    config: {\n      provider: 'sendgrid',\n      providerOptions: {\n        apiKey: env('SENDGRID_API_KEY'),\n      },\n      settings: {\n        defaultFrom: 'myemail@protonmail.com',\n        defaultReplyTo: 'myemail@protonmail.com',\n      },\n    },\n  },\n  // ...\n});\n"))),(0,r.kt)(s,{value:"amazon-ses",label:"Amazon SES",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title=./config/env/production/plugins.ts",title:"./config/env/production/plugins.ts"},"export default ({ env }) => ({\n  // ...\n  email: {\n    config: {\n      provider: 'amazon-ses',\n      providerOptions: {\n        key: env('AWS_SES_KEY'),\n        secret: env('AWS_SES_SECRET'),\n        amazon: 'https://email.us-east-1.amazonaws.com',\n      },\n      settings: {\n        defaultFrom: 'myemail@protonmail.com',\n        defaultReplyTo: 'myemail@protonmail.com',\n      },\n    },\n  },\n  // ...\n});\n"))),(0,r.kt)(s,{value:"mailgun",label:"Mailgun",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title=./config/env/production/plugins.ts",title:"./config/env/production/plugins.ts"},"export default ({ env }) => ({\n  // ...\n  email: {\n    config: {\n      provider: 'mailgun',\n      providerOptions: {\n        key: env('MAILGUN_API_KEY'), // Required\n        domain: env('MAILGUN_DOMAIN'), // Required\n        url: env('MAILGUN_URL', 'https://api.mailgun.net'), //Optional. If domain region is Europe use 'https://api.eu.mailgun.net'\n      },\n      settings: {\n        defaultFrom: 'myemail@protonmail.com',\n        defaultReplyTo: 'myemail@protonmail.com',\n      },\n    },\n  },\n  // ...\n});\n")))))),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Before pushing the above changes to GitHub, add environment variables to the Strapi Cloud project to prevent triggering a rebuild and new deployment of the project before the changes are complete.")),(0,r.kt)("h3",{id:"strapi-cloud-configuration"},"Strapi Cloud Configuration"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Log into Strapi Cloud and click on the corresponding project on the Projects page."),(0,r.kt)("li",{parentName:"ol"},"Click on the ",(0,r.kt)("strong",{parentName:"li"},"Settings")," tab and choose ",(0,r.kt)("strong",{parentName:"li"},"Variables")," in the left menu."),(0,r.kt)("li",{parentName:"ol"},"Add the required environment variables specific to the email provider."),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Save"),".")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example:")),(0,r.kt)(m,{groupId:"env-var",mdxType:"Tabs"},(0,r.kt)(s,{value:"sendgrid",label:"SendGrid",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Variable"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SENDGRID_API_KEY")),(0,r.kt)("td",{parentName:"tr",align:null},"your_sendgrid_api_key"))))),(0,r.kt)(s,{value:"amazon-ses",label:"Amazon SES",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Variable"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"AWS_SES_KEY")),(0,r.kt)("td",{parentName:"tr",align:null},"your_aws_ses_key")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"AWS_SES_SECRET")),(0,r.kt)("td",{parentName:"tr",align:null},"your_aws_ses_secret"))))),(0,r.kt)(s,{value:"mailgun",label:"Mailgun",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Variable"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MAILGUN_API_KEY")),(0,r.kt)("td",{parentName:"tr",align:null},"your_mailgun_api_key")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MAILGUN_DOMAIN")),(0,r.kt)("td",{parentName:"tr",align:null},"your_mailgun_domain")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MAILGUN_URL")),(0,r.kt)("td",{parentName:"tr",align:null},"your_mailgun_url")))))),(0,r.kt)("h2",{id:"deployment"},"Deployment"),(0,r.kt)("p",null,"To deploy the project and utilize another party email provider, push the changes from earlier. This will trigger a rebuild and new deployment of the Strapi Cloud project."),(0,r.kt)("p",null,"Once the application finishes building, the project will use the new email provider."),(0,r.kt)("p",null,":::strapi Custom Provider\nIf you want to create a custom email provider, please refer to the ",(0,r.kt)("a",{parentName:"p",href:"/dev-docs/providers#creating-providers"},"Providers")," documentation in the Developer Documentation.\n:::"))}g.isMDXComponent=!0}}]);