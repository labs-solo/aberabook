"use strict";(self.webpackChunkstrapi_docs=self.webpackChunkstrapi_docs||[]).push([[2159],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>m});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),l=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=l(r),m=a,g=u["".concat(s,".").concat(m)]||u[m]||d[m]||o;return r?n.createElement(g,i(i({ref:t},p),{},{components:r})):n.createElement(g,i({ref:t},p))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=u;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},86497:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>g,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var n=r(83117),a=(r(67294),r(3905));const o={sidebar_label:"Caching for app performance",displayed_sidebar:"cloudSidebar",sidebar_position:4},i="Caching & Performance",c={unversionedId:"cloud/getting-started/caching",id:"cloud/getting-started/caching",title:"Caching & Performance",description:"For Strapi Cloud applications with large amounts of cacheable content, such as images, videos, and other static assets, enabling CDN (Content Delivery Network) caching via the Cache-control header can help improve application performance.",source:"@site/docs/cloud/getting-started/caching.md",sourceDirName:"cloud/getting-started",slug:"/cloud/getting-started/caching",permalink:"/aberabook/cloud/getting-started/caching",draft:!1,editUrl:"https://github.com/labs-solo/aberabook/edit/main/docusaurus/docs/cloud/getting-started/caching.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_label:"Caching for app performance",displayed_sidebar:"cloudSidebar",sidebar_position:4},sidebar:"cloudSidebar",previous:{title:"Information on billing & usage",permalink:"/aberabook/cloud/getting-started/usage-billing"},next:{title:"Notifications",permalink:"/aberabook/cloud/projects/notifications"}},s={},l=[{value:"Cache-Control Header in Strapi Cloud",id:"cache-control-header-in-strapi-cloud",level:2}],p=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)},d=p("Tabs"),u=p("TabItem"),m={toc:l};function g(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"caching--performance"},"Caching & Performance"),(0,a.kt)("p",null,"For Strapi Cloud applications with large amounts of cacheable content, such as images, videos, and other static assets, enabling CDN (Content Delivery Network) caching via the ",(0,a.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control"},(0,a.kt)("inlineCode",{parentName:"a"},"Cache-control")," header")," can help improve application performance."),(0,a.kt)("p",null,"CDN caching can help improve application performance in a few ways:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Reducing Latency"),": Caching frequently accessed content on edge servers located closer to the end-users can reduce the time it takes to load content."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Offloading Origin Server"),": By caching content on edge servers it can offload the origin server, reducing the load and allowing it to focus on delivering more dynamic content."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Handling Traffic Spikes"),": Help handle traffic spikes by distributing the load across multiple edge servers. This can prevent the origin server from becoming overwhelmed during peak traffic times and ensures a consistent user experience."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Minimizing Round-Trips"),": By serving content directly from the edge servers, this can reduce the time it takes to load content."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Improving Scalability"),": Distributing content across multiple edge servers can improve scalability, making the application more reliable and responsive.")),(0,a.kt)("h2",{id:"cache-control-header-in-strapi-cloud"},"Cache-Control Header in Strapi Cloud"),(0,a.kt)("p",null,"Static sites deployed on Strapi Cloud include, by default, a ",(0,a.kt)("inlineCode",{parentName:"p"},"Cache-Control")," header set to cache for 24 hours on CDN edge servers and 10 seconds in web browsers. This is done to ensure that the latest version of the site is always served to users."),(0,a.kt)("p",null,"Responses from dynamic apps served by Strapi Cloud are not cached by default. To enable caching, you must set the ",(0,a.kt)("inlineCode",{parentName:"p"},"Cache-Control")," header in the app\u2019s ",(0,a.kt)("inlineCode",{parentName:"p"},"HTTP")," response functions."),(0,a.kt)(d,{groupId:"js-ts",mdxType:"Tabs"},(0,a.kt)(u,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function myHandler(req, res) {\n  // Set the Cache-Control header to cache responses for 1 day\n  res.setHeader('Cache-Control', 'max-age=86400');\n  \n  // Add your logic to generate the response here\n}\n"))),(0,a.kt)(u,{value:"ts",label:"TypeScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { Request, Response } from 'express';\n\nfunction myHandler(req: Request, res: Response) {\n  // Set the Cache-Control header to cache responses for 1 day\n  res.setHeader('Cache-Control', 'max-age=86400');\n  \n  // Add your logic to generate the response here\n}\n")))))}g.isMDXComponent=!0}}]);