"use strict";(self.webpackChunkstrapi_docs=self.webpackChunkstrapi_docs||[]).push([[7616,4107,5963,9968],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),p=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=p(n),u=a,y=m["".concat(l,".").concat(u)]||m[u]||c[u]||r;return n?o.createElement(y,i(i({ref:t},d),{},{components:n})):o.createElement(y,i({ref:t},d))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5055:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>p,default:()=>x,frontMatter:()=>l,metadata:()=>d,toc:()=>m});var o=n(83117),a=(n(67294),n(3905)),r=n(12874),i=n(43316),s=n(76104);const l={title:"HAProxy Proxying",displayed_sidebar:"devDocsSidebar",description:"Learn how you can use a proxy application like HAProxy to secure your Strapi application."},p="HAProxy Proxying",d={unversionedId:"dev-docs/deployment/haproxy-proxy",id:"dev-docs/deployment/haproxy-proxy",title:"HAProxy Proxying",description:"Learn how you can use a proxy application like HAProxy to secure your Strapi application.",source:"@site/docs/dev-docs/deployment/haproxy-proxy.md",sourceDirName:"dev-docs/deployment",slug:"/dev-docs/deployment/haproxy-proxy",permalink:"/aberabook/dev-docs/deployment/haproxy-proxy",draft:!1,editUrl:"https://github.com/labs-solo/aberabook/edit/main/docusaurus/docs/dev-docs/deployment/haproxy-proxy.md",tags:[],version:"current",frontMatter:{title:"HAProxy Proxying",displayed_sidebar:"devDocsSidebar",description:"Learn how you can use a proxy application like HAProxy to secure your Strapi application."},sidebar:"devDocsSidebar",previous:{title:"Caddy Proxying",permalink:"/aberabook/dev-docs/deployment/caddy-proxy"},next:{title:"Nginx Proxying",permalink:"/aberabook/dev-docs/deployment/nginx-proxy"}},c={},m=[{value:"Configuration",id:"configuration",level:2},{value:"HAProxy",id:"haproxy",level:3},{value:"Subdomain",id:"subdomain",level:4},{value:"Subfolder unified",id:"subfolder-unified",level:4}],u=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)},y=u("Tabs"),h=u("TabItem"),f={toc:m};function x(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"haproxy-proxying"},"HAProxy Proxying"),(0,a.kt)("p",null,'As Strapi does not handle SSL directly and hosting a Node.js service on the "edge" network is not a secure solution it is recommended that you use some sort of proxy application such as Nginx, Apache, HAProxy, Traefik, or others. The following documentation provides some sample configurations for HAProxy, naturally these configs may not suit all environments and you will likely need to adjust them to fit your needs.'),(0,a.kt)("h2",{id:"configuration"},"Configuration"),(0,a.kt)("p",null,'The following examples are acting as an "SSL termination" proxy, meaning that HAProxy is only accepting the requests on SSL and proxying to other backend services such as Strapi or other web servers. HAProxy cannot serve static content and as such it is usually used to handle multi-server deployments in a failover or load-balance situation. The following examples are based around everything existing on the same server, but could easily be tweaked for multi-server deployments.'),(0,a.kt)(i.default,{components:n.components,mdxType:"StrapiServer"}),(0,a.kt)("h3",{id:"haproxy"},"HAProxy"),(0,a.kt)("p",null,"The following examples are either proxying all requests directly to Strapi or are splitting requests between Strapi and some other backend web server such as Nginx, Apache, or others."),(0,a.kt)("p",null,"The following are 2 example HAProxy configurations:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Sub-domain based such as ",(0,a.kt)("inlineCode",{parentName:"li"},"api.example.com")),(0,a.kt)("li",{parentName:"ul"},"subfolder based with both the API and Admin on the same subfolder such as ",(0,a.kt)("inlineCode",{parentName:"li"},"example.com/test/api")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"example.com/test/admin"))),(0,a.kt)(s.default,{components:n.components,mdxType:"SubfolderSplitWarning"}),(0,a.kt)("admonition",{title:"HAProxy SSL Support",type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"If you are not familiar with HAProxy and using SSL certificates on the bind directive, you should combine your SSL cert, key, and any CA files into a single ",(0,a.kt)("inlineCode",{parentName:"p"},".pem")," package and use it's path in the bind directive. For more information see ",(0,a.kt)("a",{parentName:"p",href:"https://www.haproxy.com/documentation/hapee/latest/onepage/#5.1"},"HAProxy's bind documentation"),'. Most Let\'s Encrypt clients do not generate a file like this so you may need custom "after issue" scripts to do this for you.')),(0,a.kt)(y,{mdxType:"Tabs"},(0,a.kt)(h,{value:"Subdomain",label:"Subdomain",mdxType:"TabItem"},(0,a.kt)("h4",{id:"subdomain"},"Subdomain"),(0,a.kt)("p",null,"This configuration is using a subdomain dedicated to Strapi only. It will redirect normal HTTP traffic over to SSL and proxies all requests (both API and admin) to the Strapi server running on the server."),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Example domain: ",(0,a.kt)("inlineCode",{parentName:"li"},"api.example.com")),(0,a.kt)("li",{parentName:"ul"},"Example admin panel: ",(0,a.kt)("inlineCode",{parentName:"li"},"api.example.com/admin")),(0,a.kt)("li",{parentName:"ul"},"Example API: ",(0,a.kt)("inlineCode",{parentName:"li"},"api.example.com/api")),(0,a.kt)("li",{parentName:"ul"},"Example uploaded Files (local provider): ",(0,a.kt)("inlineCode",{parentName:"li"},"api.example.com/uploads"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"# path: /etc/haproxy/haproxy.cfg\n\nglobal\n        log /dev/log    local0\n        log /dev/log    local1 notice\n        chroot /var/lib/haproxy\n        stats socket /run/haproxy/admin.sock mode 660 level admin expose-fd listeners\n        stats timeout 30s\n        user haproxy\n        group haproxy\n        daemon\n\n        # Default SSL material locations\n        ca-base /etc/ssl/certs\n        crt-base /etc/ssl/private\n\n        # See: https://ssl-config.mozilla.org/#server=haproxy&server-version=2.0.3&config=intermediate\n        ssl-default-bind-ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA3$\n        ssl-default-bind-ciphersuites TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256\n        ssl-default-bind-options ssl-min-ver TLSv1.2 no-tls-tickets\n\ndefaults\n        log     global\n        mode    http\n        option  httplog\n        option  dontlognull\n        timeout connect 5000\n        timeout client  50000\n        timeout server  50000\n        errorfile 400 /etc/haproxy/errors/400.http\n        errorfile 403 /etc/haproxy/errors/403.http\n        errorfile 408 /etc/haproxy/errors/408.http\n        errorfile 500 /etc/haproxy/errors/500.http\n        errorfile 502 /etc/haproxy/errors/502.http\n        errorfile 503 /etc/haproxy/errors/503.http\n        errorfile 504 /etc/haproxy/errors/504.http\n\n# Everything above this line is HAProxy defaults\n\nfrontend api.example.com\n        bind *:80\n        bind *:443 ssl crt /path/to/your/cert+key+ca.pem\n        http-request redirect scheme https unless { ssl_fc }\n        default_backend strapi-backend\n\nbackend strapi-backend\n        server local 127.0.0.1:1337\n"))),(0,a.kt)(h,{value:"Subfolder unified",label:"Subfolder unified",mdxType:"TabItem"},(0,a.kt)("h4",{id:"subfolder-unified"},"Subfolder unified"),(0,a.kt)("p",null,"This configuration is using a subfolder dedicated to Strapi only. It will redirect normal HTTP traffic over to SSL and proxies the front end to ",(0,a.kt)("inlineCode",{parentName:"p"},"localhost:8080"),", but proxies all Strapi requests on the ",(0,a.kt)("inlineCode",{parentName:"p"},"example.com/test")," sub-path to the locally running Strapi application."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"HAProxy cannot serve static content, the following example is proxying front-end traffic to some other web server running on the localhost port 8080.")),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Example domain: ",(0,a.kt)("inlineCode",{parentName:"li"},"example.com/test")),(0,a.kt)("li",{parentName:"ul"},"Example admin panel: ",(0,a.kt)("inlineCode",{parentName:"li"},"example.com/test/admin")),(0,a.kt)("li",{parentName:"ul"},"Example API: ",(0,a.kt)("inlineCode",{parentName:"li"},"example.com/test/api")),(0,a.kt)("li",{parentName:"ul"},"Example uploaded Files (local provider): ",(0,a.kt)("inlineCode",{parentName:"li"},"example.com/test/uploads"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},'# path: /etc/haproxy/haproxy.cfg\n\nglobal\n        log /dev/log    local0\n        log /dev/log    local1 notice\n        chroot /var/lib/haproxy\n        stats socket /run/haproxy/admin.sock mode 660 level admin expose-fd listeners\n        stats timeout 30s\n        user haproxy\n        group haproxy\n        daemon\n\n        # Default SSL material locations\n        ca-base /etc/ssl/certs\n        crt-base /etc/ssl/private\n\n        # See: https://ssl-config.mozilla.org/#server=haproxy&server-version=2.0.3&config=intermediate\n        ssl-default-bind-ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA3$\n        ssl-default-bind-ciphersuites TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256\n        ssl-default-bind-options ssl-min-ver TLSv1.2 no-tls-tickets\n\ndefaults\n        log     global\n        mode    http\n        option  httplog\n        option  dontlognull\n        timeout connect 5000\n        timeout client  50000\n        timeout server  50000\n        errorfile 400 /etc/haproxy/errors/400.http\n        errorfile 403 /etc/haproxy/errors/403.http\n        errorfile 408 /etc/haproxy/errors/408.http\n        errorfile 500 /etc/haproxy/errors/500.http\n        errorfile 502 /etc/haproxy/errors/502.http\n        errorfile 503 /etc/haproxy/errors/503.http\n        errorfile 504 /etc/haproxy/errors/504.http\n\n# Everything above this line is HAProxy defaults\n\nfrontend example.com\n        bind *:80\n        bind *:443 ssl crt /path/to/your/cert+key+ca.pem\n        http-request redirect scheme https unless { ssl_fc }\n        acl test path_beg /test\n        use_backend strapi-backend if test\n        default_backend default-backend\n\nbackend default-backend\n        # HAProxy -cannot- serve static content on it\'s own\n        # This example is relaying traffic to some other backend webserver\n        server somewebserver 127.0.0.1:8080\n\nbackend strapi-backend\n        http-request set-path "%[path,regsub(^/test/?,/)]"\n        server local 127.0.0.1:1337\n\n')))),(0,a.kt)(r.default,{components:n.components,mdxType:"AdminRedirect"}))}x.isMDXComponent=!0},12874:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var o=n(83117),a=(n(67294),n(3905));const r={},i=void 0,s={unversionedId:"dev-docs/deployment/snippets-proxy/admin-redirect",id:"dev-docs/deployment/snippets-proxy/admin-redirect",title:"admin-redirect",description:"Redirecting landing page to admin panel",source:"@site/docs/dev-docs/deployment/snippets-proxy/admin-redirect.md",sourceDirName:"dev-docs/deployment/snippets-proxy",slug:"/dev-docs/deployment/snippets-proxy/admin-redirect",permalink:"/aberabook/dev-docs/deployment/snippets-proxy/admin-redirect",draft:!1,editUrl:"https://github.com/labs-solo/aberabook/edit/main/docusaurus/docs/dev-docs/deployment/snippets-proxy/admin-redirect.md",tags:[],version:"current",frontMatter:{}},l={},p=[{value:"Redirecting landing page to admin panel",id:"redirecting-landing-page-to-admin-panel",level:3}],d={toc:p};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"redirecting-landing-page-to-admin-panel"},"Redirecting landing page to admin panel"),(0,a.kt)("p",null,"If you do not wish to have the default landing page mounted on ",(0,a.kt)("inlineCode",{parentName:"p"},"/")," you can create a custom middleware using the sample code below to automatically redirect to your admin panel."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"This sample configuration expects that the admin panel is accessible on ",(0,a.kt)("inlineCode",{parentName:"p"},"/admin"),". If you used one of the above configurations to change this to ",(0,a.kt)("inlineCode",{parentName:"p"},"/dashboard")," you will also need to adjust this sample configuration.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="./config/middlewares.js"',title:'"./config/middlewares.js"'},"module.exports = ({ env }) => [\n    // ...\n    { resolve: '../src/middlewares/admin-redirect' },\n];\n\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="./src/middlewares/admin-redirect.js"',title:'"./src/middlewares/admin-redirect.js"'},"module.exports = (_config, { strapi }) => {\n    const redirects = ['/', '/index.html'].map((path) => ({\n        method: 'GET',\n        path,\n        handler: (ctx) => ctx.redirect('/admin'),\n        config: { auth: false },\n    }));\n\n    strapi.server.routes(redirects);\n};\n")))}c.isMDXComponent=!0},43316:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>y,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var o=n(83117),a=(n(67294),n(3905));const r={},i=void 0,s={unversionedId:"dev-docs/deployment/snippets-proxy/strapi-server",id:"dev-docs/deployment/snippets-proxy/strapi-server",title:"strapi-server",description:"Strapi server",source:"@site/docs/dev-docs/deployment/snippets-proxy/strapi-server.md",sourceDirName:"dev-docs/deployment/snippets-proxy",slug:"/dev-docs/deployment/snippets-proxy/strapi-server",permalink:"/aberabook/dev-docs/deployment/snippets-proxy/strapi-server",draft:!1,editUrl:"https://github.com/labs-solo/aberabook/edit/main/docusaurus/docs/dev-docs/deployment/snippets-proxy/strapi-server.md",tags:[],version:"current",frontMatter:{}},l={},p=[{value:"Strapi server",id:"strapi-server",level:3},{value:"Subdomain Strapi configuration",id:"subdomain-strapi-configuration",level:4},{value:"Subfolder unified Strapi configuration",id:"subfolder-unified-strapi-configuration",level:4}],d=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)},c=d("Tabs"),m=d("TabItem"),u={toc:p};function y(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"strapi-server"},"Strapi server"),(0,a.kt)("p",null,"In order to take full advantage of a proxied Strapi application, Strapi should be configured so it's aware of the upstream proxy. Like with the below configurations there are 3 matching examples. Additional information can be found in the ",(0,a.kt)("a",{parentName:"p",href:"/dev-docs/configurations/server"},"server configuration")," and ",(0,a.kt)("a",{parentName:"p",href:"/dev-docs/configurations/admin-panel"},"admin configuration")," documentations."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"These examples use the default API Prefix of ",(0,a.kt)("inlineCode",{parentName:"p"},"/api"),". This can be changed without the need to directly modify the Nginx configuration (see the ",(0,a.kt)("a",{parentName:"p",href:"/dev-docs/configurations/api"},"API prefix")," documentation).")),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"If the ",(0,a.kt)("inlineCode",{parentName:"p"},"url")," key is changed in the ",(0,a.kt)("inlineCode",{parentName:"p"},"./config/admin.js")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"./config/server.js")," files, the admin panel needs to be rebuilt with ",(0,a.kt)("inlineCode",{parentName:"p"},"yarn build")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"npm run build"),".")),(0,a.kt)(c,{mdxType:"Tabs"},(0,a.kt)(m,{value:"Subdomain",label:"Subdomain",mdxType:"TabItem"},(0,a.kt)("h4",{id:"subdomain-strapi-configuration"},"Subdomain Strapi configuration"),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Example domain: ",(0,a.kt)("inlineCode",{parentName:"li"},"api.example.com")),(0,a.kt)("li",{parentName:"ul"},"Example admin: ",(0,a.kt)("inlineCode",{parentName:"li"},"api.example.com/admin")),(0,a.kt)("li",{parentName:"ul"},"Example API: ",(0,a.kt)("inlineCode",{parentName:"li"},"api.example.com/api")),(0,a.kt)("li",{parentName:"ul"},"Example uploaded files (local provider): ",(0,a.kt)("inlineCode",{parentName:"li"},"api.example.com/uploads"))),(0,a.kt)(c,{groupId:"js-ts",mdxType:"Tabs"},(0,a.kt)(m,{value:"javascript",label:"JavaScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="path: ./config/server.js"',title:'"path:','./config/server.js"':!0},"\nmodule.exports = ({ env }) => ({\n  host: env('HOST', '0.0.0.0'),\n  port: env.int('PORT', 1337),\n  url: 'https://api.example.com',\n});\n"))),(0,a.kt)(m,{value:"typescript",label:"TypeScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="path: ./config/server.ts"',title:'"path:','./config/server.ts"':!0},"\nexport default ({ env }) => ({\n  host: env('HOST', '0.0.0.0'),\n  port: env.int('PORT', 1337),\n  url: 'https://api.example.com',\n});\n"))))),(0,a.kt)(m,{value:"Subfolder unified",label:"Subfolder unified",mdxType:"TabItem"},(0,a.kt)("h4",{id:"subfolder-unified-strapi-configuration"},"Subfolder unified Strapi configuration"),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Example domain: ",(0,a.kt)("inlineCode",{parentName:"li"},"example.com/test")),(0,a.kt)("li",{parentName:"ul"},"Example admin: ",(0,a.kt)("inlineCode",{parentName:"li"},"example.com/test/admin")),(0,a.kt)("li",{parentName:"ul"},"Example API: ",(0,a.kt)("inlineCode",{parentName:"li"},"example.com/test/api")),(0,a.kt)("li",{parentName:"ul"},"Example uploaded Files (local provider): ",(0,a.kt)("inlineCode",{parentName:"li"},"example.com/test/uploads"))),(0,a.kt)(c,{groupId:"js-ts",mdxType:"Tabs"},(0,a.kt)(m,{value:"javascript",label:"JavaScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="path: ./config/server.js"',title:'"path:','./config/server.js"':!0},"\nmodule.exports = ({ env }) => ({\n  host: env('HOST', '0.0.0.0'),\n  port: env.int('PORT', 1337),\n  url: 'https://example.com/test',\n});\n"))),(0,a.kt)(m,{value:"typescript",label:"TypeScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="path: ./config/server.ts"',title:'"path:','./config/server.ts"':!0},"\nexport default ({ env }) => ({\n  host: env('HOST', '0.0.0.0'),\n  port: env.int('PORT', 1337),\n  url: 'https://example.com/test',\n});\n")))))))}y.isMDXComponent=!0},76104:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var o=n(83117),a=(n(67294),n(3905));const r={},i=void 0,s={unversionedId:"dev-docs/deployment/snippets-proxy/subfolder-split-warning",id:"dev-docs/deployment/snippets-proxy/subfolder-split-warning",title:"subfolder-split-warning",description:"Using subfolder split (eg//example.com/dashboard and https https https//example.com/strapi/api).",source:"@site/docs/dev-docs/deployment/snippets-proxy/subfolder-split-warning.md",sourceDirName:"dev-docs/deployment/snippets-proxy",slug:"/dev-docs/deployment/snippets-proxy/subfolder-split-warning",permalink:"/aberabook/dev-docs/deployment/snippets-proxy/subfolder-split-warning",draft:!1,editUrl:"https://github.com/labs-solo/aberabook/edit/main/docusaurus/docs/dev-docs/deployment/snippets-proxy/subfolder-split-warning.md",tags:[],version:"current",frontMatter:{}},l={},p=[],d={toc:p};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("admonition",{title:"Subfolder split is not supported",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Using subfolder split (eg: ",(0,a.kt)("inlineCode",{parentName:"p"},"https://example.com/dashboard")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"https://example.com/api"),") are not supported nor recommended with Strapi. It's advised that you either use subdomains (eg: ",(0,a.kt)("inlineCode",{parentName:"p"},"https://api.example.com"),") or subfolder unified (eg: ",(0,a.kt)("inlineCode",{parentName:"p"},"https://example.com/strapi/dashboard")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"https://example.com/strapi/api"),").")))}c.isMDXComponent=!0}}]);