"use strict";(self.webpackChunkstrapi_docs=self.webpackChunkstrapi_docs||[]).push([[2890],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>u});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),p=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=p(r),u=n,h=c["".concat(s,".").concat(u)]||c[u]||m[u]||l;return r?a.createElement(h,o(o({ref:t},d),{},{components:r})):a.createElement(h,o({ref:t},d))}));function u(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,o=new Array(l);o[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,o[1]=i;for(var p=2;p<l;p++)o[p]=r[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}c.displayName="MDXCreateElement"},30979:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var a=r(83117),n=(r(67294),r(3905));const l={title:"Error handling",displayed_sidebar:"devDocsSidebar",description:"With Strapi's error handling feature it's easy to send and receive errors in your application."},o="Error handling",i={unversionedId:"dev-docs/error-handling",id:"dev-docs/error-handling",title:"Error handling",description:"With Strapi's error handling feature it's easy to send and receive errors in your application.",source:"@site/docs/dev-docs/error-handling.md",sourceDirName:"dev-docs",slug:"/dev-docs/error-handling",permalink:"/aberabook/dev-docs/error-handling",draft:!1,editUrl:"https://github.com/labs-solo/aberabook/edit/main/docusaurus/docs/dev-docs/error-handling.md",tags:[],version:"current",frontMatter:{title:"Error handling",displayed_sidebar:"devDocsSidebar",description:"With Strapi's error handling feature it's easy to send and receive errors in your application."},sidebar:"devDocsSidebar",previous:{title:"Database migrations",permalink:"/aberabook/dev-docs/database-migrations"},next:{title:"Integrations",permalink:"/aberabook/dev-docs/integrations"}},s={},p=[{value:"Receiving errors",id:"receiving-errors",level:2},{value:"REST errors",id:"rest-errors",level:3},{value:"GraphQL errors",id:"graphql-errors",level:3},{value:"Throwing errors",id:"throwing-errors",level:2},{value:"Controllers and middlewares",id:"controllers-and-middlewares",level:3},{value:"Services and models lifecycles",id:"services-and-models-lifecycles",level:3},{value:"Policies",id:"policies",level:3},{value:"Default error classes",id:"default-error-classes",level:3}],d=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,n.kt)("div",t)},m=d("Tabs"),c=d("TabItem"),u={toc:p};function h(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"error-handling"},"Error handling"),(0,n.kt)("p",null,"Strapi is natively handling errors with a standard format."),(0,n.kt)("p",null,"There are 2 use cases for error handling:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"As a developer querying content through the ",(0,n.kt)("a",{parentName:"li",href:"/dev-docs/api/rest"},"REST")," or ",(0,n.kt)("a",{parentName:"li",href:"/dev-docs/api/graphql"},"GraphQL")," APIs, you might ",(0,n.kt)("a",{parentName:"li",href:"#receiving-errors"},"receive errors")," in response to the requests."),(0,n.kt)("li",{parentName:"ul"},"As a developer customizing the backend of your Strapi application, you could use controllers and services to ",(0,n.kt)("a",{parentName:"li",href:"#throwing-errors"},"throw errors"),".")),(0,n.kt)("h2",{id:"receiving-errors"},"Receiving errors"),(0,n.kt)("p",null,"Errors are included in the response object with the ",(0,n.kt)("inlineCode",{parentName:"p"},"error")," key and include information such as the HTTP status code, the name of the error, and additional information."),(0,n.kt)("h3",{id:"rest-errors"},"REST errors"),(0,n.kt)("p",null,"Errors thrown by the REST API are included in the ",(0,n.kt)("a",{parentName:"p",href:"/dev-docs/api/rest#requests"},"response")," that has the following format:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": null,\n  "error": {\n    "status": "", // HTTP status\n    "name": "", // Strapi error name (\'ApplicationError\' or \'ValidationError\')\n    "message": "", // A human readable error message\n    "details": {\n      // error info specific to the error type\n    }\n  }\n}\n')),(0,n.kt)("h3",{id:"graphql-errors"},"GraphQL errors"),(0,n.kt)("p",null,"Errors thrown by the GraphQL API are included in the ",(0,n.kt)("a",{parentName:"p",href:"/dev-docs/api/graphql#unified-response-format"},"response")," that has the following format:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{ "errors": [\n    {\n      "message": "", // A human reable error message\n      "extensions": {\n        "error": {\n          "name": "", // Strapi error name (\'ApplicationError\' or \'ValidationError\'),\n          "message": "", // A human reable error message (same one as above);\n          "details": {}, // Error info specific to the error type\n        },\n        "code": "" // GraphQL error code (ex: BAD_USER_INPUT)\n      }\n    }\n  ],\n  "data": {\n    "graphQLQueryName": null\n  }\n}\n')),(0,n.kt)("h2",{id:"throwing-errors"},"Throwing errors"),(0,n.kt)("h3",{id:"controllers-and-middlewares"},"Controllers and middlewares"),(0,n.kt)("p",null,"The recommended way to throw errors when developing any custom logic with Strapi is to have the ",(0,n.kt)("a",{parentName:"p",href:"/dev-docs/backend-customization/controllers"},"controller")," or ",(0,n.kt)("a",{parentName:"p",href:"/dev-docs/backend-customization/middlewares"},"middleware")," respond with the correct status and body."),(0,n.kt)("p",null,"This can be done by calling an error function on the context (i.e. ",(0,n.kt)("inlineCode",{parentName:"p"},"ctx"),"). Available error functions are listed in the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/jshttp/http-errors#list-of-all-constructors"},"http-errors documentation")," but their name should be lower camel-cased to be used by Strapi (e.g. ",(0,n.kt)("inlineCode",{parentName:"p"},"badRequest"),")."),(0,n.kt)("p",null,"Error functions accept 2 parameters that correspond to the ",(0,n.kt)("inlineCode",{parentName:"p"},"error.message")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"error.details")," attributes ",(0,n.kt)("a",{parentName:"p",href:"#receiving-errors"},"received")," by a developer querying the API:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"the first parameter of the function is the error ",(0,n.kt)("inlineCode",{parentName:"li"},"message")),(0,n.kt)("li",{parentName:"ul"},"and the second one is the object that will be set as ",(0,n.kt)("inlineCode",{parentName:"li"},"details")," in the response received")),(0,n.kt)(m,{groupId:"js-ts",mdxType:"Tabs"},(0,n.kt)(c,{value:"javascript",label:"JavaScript",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"// path: ./src/api/[api-name]/controllers/my-controller.js\n\nmodule.exports = {\n  renameDog: async (ctx, next) => {\n    const newName = ctx.request.body.name;\n    if (!newName) {\n      return ctx.badRequest('name is missing', { foo: 'bar' })\n    }\n    ctx.body = strapi.service('api::dog.dog').rename(newName);\n  }\n}\n\n// path: ./src/api/[api-name]/middlewares/my-middleware.js\n\nmodule.exports = async (ctx, next) => {\n  const newName = ctx.request.body.name;\n  if (!newName) {\n    return ctx.badRequest('name is missing', { foo: 'bar' })\n  }\n  await next();\n}\n"))),(0,n.kt)(c,{value:"typescript",label:"TypeScript",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"// path: ./src/api/[api-name]/controllers/my-controller.ts\n\nexport default {\n  renameDog: async (ctx, next) => {\n    const newName = ctx.request.body.name;\n    if (!newName) {\n      return ctx.badRequest('name is missing', { foo: 'bar' })\n    }\n    ctx.body = strapi.service('api::dog.dog').rename(newName);\n  }\n}\n\n// path: ./src/api/[api-name]/middlewares/my-middleware.ts\n\nexport default async (ctx, next) => {\n  const newName = ctx.request.body.name;\n  if (!newName) {\n    return ctx.badRequest('name is missing', { foo: 'bar' })\n  }\n  await next();\n}\n")))),(0,n.kt)("h3",{id:"services-and-models-lifecycles"},"Services and models lifecycles"),(0,n.kt)("p",null,"Once you are working at a deeper layer than the controllers or middlewares there are dedicated error classes that can be used to throw errors. These classes are extensions of ",(0,n.kt)("a",{parentName:"p",href:"https://nodejs.org/api/errors.html#errors_class_error"},"Node ",(0,n.kt)("inlineCode",{parentName:"a"},"Error")," class")," and are specifically targeted for certain use-cases."),(0,n.kt)("p",null,"These error classes are imported through the ",(0,n.kt)("inlineCode",{parentName:"p"},"@strapi/utils")," package and can be called from several different layers. The following examples use the service layer but error classes are not just limited to services and model lifecycles. When throwing errors in the model lifecycle layer, it's recommended to use the ",(0,n.kt)("inlineCode",{parentName:"p"},"ApplicationError")," class so that proper error messages are shown in the admin panel."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"See the ",(0,n.kt)("a",{parentName:"p",href:"#default-error-classes"},"default error classes")," section for more information on the error classes provided by Strapi.")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Example: Throwing an error in a service"),(0,n.kt)("p",null,"This example shows wrapping a ",(0,n.kt)("a",{parentName:"p",href:"/dev-docs/backend-customization/services#extending-core-services"},"core service")," and doing a custom validation on the ",(0,n.kt)("inlineCode",{parentName:"p"},"create")," method:"),(0,n.kt)(m,{groupId:"js-ts",mdxType:"Tabs"},(0,n.kt)(c,{value:"javascript",label:"JavaScript",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="path: ./src/api/restaurant/services/restaurant.js"',title:'"path:','./src/api/restaurant/services/restaurant.js"':!0},"\nconst { errors } = require('@strapi/utils');\nconst { ApplicationError } = errors;\nconst { createCoreService } = require('@strapi/strapi').factories;\n\nmodule.exports = createCoreService('api::restaurant.restaurant', ({ strapi }) =>  ({\n  async create(params) {\n    let okay = false;\n\n    // Throwing an error will prevent the restaurant from being created\n    if (!okay) {\n      throw new ApplicationError('Something went wrong', { foo: 'bar' });\n    }\n  \n    const result = await super.create(params);\n\n    return result;\n  }\n});\n"))),(0,n.kt)(c,{value:"typescript",label:"TypeScript",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="path: ./src/api/[api-name]/policies/my-policy.ts"',title:'"path:','./src/api/[api-name]/policies/my-policy.ts"':!0},"\nimport { errors } from '@strapi/utils';\nimport { factories } from '@strapi/strapi';\n\nconst { ApplicationError } = errors;\n\nexport default factories.createCoreService('api::restaurant.restaurant', ({ strapi }) =>  ({\n  async create(params) {\n    let okay = false;\n\n    // Throwing an error will prevent the restaurant from being created\n    if (!okay) {\n      throw new ApplicationError('Something went wrong', { foo: 'bar' });\n    }\n  \n    const result = await super.create(params);\n\n    return result;\n  }\n}));\n\n"))))),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Example: Throwing an error in a model lifecycle"),(0,n.kt)("p",null,"This example shows building a ",(0,n.kt)("a",{parentName:"p",href:"/dev-docs/backend-customization/models#lifecycle-hooks"},"custom model lifecycle")," and being able to throw an error that stops the request and will return proper error messages to the admin panel. Generally you should only throw an error in ",(0,n.kt)("inlineCode",{parentName:"p"},"beforeX")," lifecycles, not ",(0,n.kt)("inlineCode",{parentName:"p"},"afterX")," lifecycles."),(0,n.kt)(m,{groupId:"js-ts",mdxType:"Tabs"},(0,n.kt)(c,{value:"javascript",label:"JavaScript",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="path: ./src/api/[api-name]/content-types/[api-name]/lifecycles.js"',title:'"path:','./src/api/[api-name]/content-types/[api-name]/lifecycles.js"':!0},"\nconst { errors } = require('@strapi/utils');\nconst { ApplicationError } = errors;\n\nmodule.exports = {\n  beforeCreate(event) {\n    let okay = false;\n\n    // Throwing an error will prevent the entity from being created\n    if (!okay) {\n      throw new ApplicationError('Something went wrong', { foo: 'bar' });\n    }\n  },\n};\n\n"))),(0,n.kt)(c,{value:"typescript",label:"TypeScript",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="path: ./src/api/[api-name]/content-types/[api-name]/lifecycles.ts"',title:'"path:','./src/api/[api-name]/content-types/[api-name]/lifecycles.ts"':!0},"\nimport { errors } from '@strapi/utils';\nconst { ApplicationError } = errors;\n\nexport default {\n  beforeCreate(event) {\n    let okay = false;\n\n    // Throwing an error will prevent the entity from being created\n    if (!okay) {\n      throw new ApplicationError('Something went wrong', { foo: 'bar' });\n    }\n  },\n};\n"))))),(0,n.kt)("h3",{id:"policies"},"Policies"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/dev-docs/backend-customization/policies"},"Policies")," are a special type of middleware that are executed before a controller. They are used to check if the user is allowed to perform the action or not. If the user is not allowed to perform the action and a ",(0,n.kt)("inlineCode",{parentName:"p"},"return false")," is used then a generic error will be thrown. As an alternative, you can throw a custom error message using a nested class extensions from the Strapi ",(0,n.kt)("inlineCode",{parentName:"p"},"ForbiddenError")," class, ",(0,n.kt)("inlineCode",{parentName:"p"},"ApplicationError")," class (see ",(0,n.kt)("a",{parentName:"p",href:"#default-error-classes"},"Default error classes")," for both classes), and finally the ",(0,n.kt)("a",{parentName:"p",href:"https://nodejs.org/api/errors.html#errors_class_error"},"Node ",(0,n.kt)("inlineCode",{parentName:"a"},"Error")," class"),"."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"PolicyError")," class is available from ",(0,n.kt)("inlineCode",{parentName:"p"},"@strapi/utils")," package and accepts 2 parameters:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"the first parameter of the function is the error ",(0,n.kt)("inlineCode",{parentName:"li"},"message")),(0,n.kt)("li",{parentName:"ul"},"(optional) the second parameter is the object that will be set as ",(0,n.kt)("inlineCode",{parentName:"li"},"details")," in the response received; a best practice is to set a ",(0,n.kt)("inlineCode",{parentName:"li"},"policy")," key with the name of the policy that threw the error.")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Example: Throwing a PolicyError in a custom policy"),(0,n.kt)("p",null,"This example shows building a ",(0,n.kt)("a",{parentName:"p",href:"/dev-docs/backend-customization/policies"},"custom policy")," that will throw a custom error message and stop the request."),(0,n.kt)(m,{groupId:"js-ts",mdxType:"Tabs"},(0,n.kt)(c,{value:"javascript",label:"JavaScript",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="path: ./src/api/[api-name]/policies/my-policy.js"',title:'"path:','./src/api/[api-name]/policies/my-policy.js"':!0},"\nconst { errors } = require('@strapi/utils');\nconst { PolicyError } = errors;\n\nmodule.exports = (policyContext, config, { strapi }) => {\n  let isAllowed = false;\n\n  if (isAllowed) {\n    return true;\n  } else {\n    throw new PolicyError('You are not allowed to perform this action', {\n      policy: 'my-policy',\n      myCustomKey: 'myCustomValue',\n    });\n  }\n}\n\n"))),(0,n.kt)(c,{value:"typescript",label:"TypeScript",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="path: ./src/api/[api-name]/policies/my-policy.ts"',title:'"path:','./src/api/[api-name]/policies/my-policy.ts"':!0},"\nimport { errors } from '@strapi/utils';\nconst { PolicyError } = errors;\n\nexport default (policyContext, config, { strapi }) => {\n  let isAllowed = false;\n\n  if (isAllowed) {\n    return true;\n  } else {\n    throw new PolicyError('You are not allowed to perform this action', {\n      policy: 'my-policy',\n      myCustomKey: 'myCustomValue',\n    });\n  }\n};\n"))))),(0,n.kt)("h3",{id:"default-error-classes"},"Default error classes"),(0,n.kt)("p",null,"The default error classes are available from the ",(0,n.kt)("inlineCode",{parentName:"p"},"@strapi/utils")," package and can be imported and used in your code. Any of the default error classes can be extended to create a custom error class. The custom error class can then be used in your code to throw errors."),(0,n.kt)(m,{mdxType:"Tabs"},(0,n.kt)(c,{value:"Application",label:"Application",mdxType:"TabItem"},(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"ApplicationError")," class is a generic error class for application errors and is generally recommended as the default error class. This class is specifically designed to throw proper error messages that the admin panel can read and show to the user. It accepts the following parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"message")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:null},"The error message"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"An application error occured"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"details")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"object")),(0,n.kt)("td",{parentName:"tr",align:null},"Object to define additional details"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"{}"))))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"throw new ApplicationError('Something went wrong', { foo: 'bar' });\n"))),(0,n.kt)(c,{value:"Pagination",label:"Pagination",mdxType:"TabItem"},(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"PaginationError")," class is a specific error class that is typically used when parsing the pagination information from ",(0,n.kt)("a",{parentName:"p",href:"/dev-docs/api/rest/sort-pagination#pagination"},"REST"),", ",(0,n.kt)("a",{parentName:"p",href:"/dev-docs/api/graphql#pagination"},"GraphQL"),", or the ",(0,n.kt)("a",{parentName:"p",href:"/dev-docs/api/entity-service/order-pagination#pagination"},"Entity Service"),". It accepts the following parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"message")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:null},"The error message"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"Invalid pagination"))))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"throw new PaginationError('Exceeded maximum pageSize limit');\n"))),(0,n.kt)(c,{value:"NotFound",label:"NotFound",mdxType:"TabItem"},(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"NotFoundError")," class is a generic error class for throwing ",(0,n.kt)("inlineCode",{parentName:"p"},"404")," status code errors. It accepts the following parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"message")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:null},"The error message"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"Entity not found"))))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"throw new NotFoundError('These are not the droids you are looking for');\n"))),(0,n.kt)(c,{value:"Forbidden",label:"Forbidden",mdxType:"TabItem"},(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"ForbiddenError")," class is a specific error class (",(0,n.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403"},"error 403"),") used when a user doesn't have the proper role or permissions to perform a specific action, but has properly authenticated. It accepts the following parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"message")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:null},"The error message"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"Forbidden access"))))),(0,n.kt)("p",null,"Note: ",(0,n.kt)("inlineCode",{parentName:"p"},"ForbiddenError")," message contents will not be displayed to the Content API and will be returned to the user as an empty ",(0,n.kt)("inlineCode",{parentName:"p"},"ForbiddenError")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"throw new ForbiddenError('Ah ah ah, you didn\\'t say the magic word');\n"))),(0,n.kt)(c,{value:"Unauthorized",label:"Unauthorized",mdxType:"TabItem"},(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"UnauthorizedError")," class is a specific error class (",(0,n.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401"},"error 401"),") used when a user either doesn't provide any or the correct authentication credentials. It accepts the following parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"message")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:null},"The error message"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"Unauthorized"))))),(0,n.kt)("p",null,"Note: ",(0,n.kt)("inlineCode",{parentName:"p"},"UnauthorizedError")," message contents will not be displayed to the Content API and will be returned to the user as an empty ",(0,n.kt)("inlineCode",{parentName:"p"},"UnauthorizedError")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"throw new UnauthorizedError('You shall not pass!');\n"))),(0,n.kt)(c,{value:"NotImplemented",label:"NotImplemented",mdxType:"TabItem"},(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"NotImplementedError")," class is a specific error class used when the incoming request is attempting to use a feature that is not currently implemented or configured. It accepts the following parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"message")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:null},"The error message"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"This feature isn't implemented"))))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"throw new NotImplementedError('This isn\\'t implemented', { feature: 'test', implemented: false });\n"))),(0,n.kt)(c,{value:"PayloadTooLarge",label:"PayloadTooLarge",mdxType:"TabItem"},(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"PayloadTooLargeError")," class is a specific error class used when the incoming request body or attached files exceed the limits of the server. It accepts the following parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"message")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:null},"The error message"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"Entity too large"))))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"throw new PayloadTooLargeError('Uh oh, the file too big!');\n"))),(0,n.kt)(c,{value:"Policy",label:"Policy",mdxType:"TabItem"},(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"PolicyError")," class is a specific error designed to be used with ",(0,n.kt)("a",{parentName:"p",href:"/dev-docs/backend-customization/policies"},"route policies"),". The best practice recommendation is to ensure the name of the policy is passed in the ",(0,n.kt)("inlineCode",{parentName:"p"},"details")," parameter. It accepts the following parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"message")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:null},"The error message"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"Policy Failed"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"details")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"object")),(0,n.kt)("td",{parentName:"tr",align:null},"Object to define additional details"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"{}"))))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"throw new PolicyError('Something went wrong', { policy: 'my-policy' });\n")),(0,n.kt)("p",null,"Note: Because ",(0,n.kt)("inlineCode",{parentName:"p"},"PolicyError")," extends ",(0,n.kt)("inlineCode",{parentName:"p"},"ForbiddenError"),", it will not be displayed to the Content API and will be returned to the user as an empty ",(0,n.kt)("inlineCode",{parentName:"p"},"ForbiddenError")," and you will need to use a different error type in your policy if you want it to be visible in the Content API."))))}h.isMDXComponent=!0}}]);