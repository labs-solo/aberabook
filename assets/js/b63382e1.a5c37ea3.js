"use strict";(self.webpackChunkstrapi_docs=self.webpackChunkstrapi_docs||[]).push([[892],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),s=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):p(p({},t),e)),a},d=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=s(a),u=o,y=c["".concat(l,".").concat(u)]||c[u]||m[u]||r;return a?n.createElement(y,p(p({ref:t},d),{},{components:a})):n.createElement(y,p({ref:t},d))}));function u(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,p=new Array(r);p[0]=c;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,p[1]=i;for(var s=2;s<r;s++)p[s]=a[s];return n.createElement.apply(null,p)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},90845:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>p,default:()=>k,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var n=a(83117),o=(a(67294),a(3905));const r={title:"Data export",description:"Export data using the Strapi CLI",displayed_sidebar:"devDocsSidebar",canonicalUrl:"https://docs.strapi.io/dev-docs/data-management/export.html"},p="Data export",i={unversionedId:"dev-docs/data-management/export",id:"dev-docs/data-management/export",title:"Data export",description:"Export data using the Strapi CLI",source:"@site/docs/dev-docs/data-management/export.md",sourceDirName:"dev-docs/data-management",slug:"/dev-docs/data-management/export",permalink:"/aberabook/dev-docs/data-management/export",draft:!1,editUrl:"https://github.com/labs-solo/aberabook/edit/main/docusaurus/docs/dev-docs/data-management/export.md",tags:[],version:"current",frontMatter:{title:"Data export",description:"Export data using the Strapi CLI",displayed_sidebar:"devDocsSidebar",canonicalUrl:"https://docs.strapi.io/dev-docs/data-management/export.html"},sidebar:"devDocsSidebar",previous:{title:"Data management system",permalink:"/aberabook/dev-docs/data-management"},next:{title:"Data import",permalink:"/aberabook/dev-docs/data-management/import"}},l={},s=[{value:"Name the export file",id:"name-the-export-file",level:2},{value:"Example: Export data with a custom filename",id:"example-export-data-with-a-custom-filename",level:3},{value:"Configure data encryption",id:"configure-data-encryption",level:2},{value:"Example: Export data without encryption",id:"example-export-data-without-encryption",level:3},{value:"Example: Export data with the encryption <code>--key</code> option",id:"example-export-data-with-the-encryption---key-option",level:3},{value:"Disable data compression",id:"disable-data-compression",level:2},{value:"Example: Export data without compression",id:"example-export-data-without-compression",level:3},{value:"Export only selected types of data",id:"export-only-selected-types-of-data",level:2},{value:"Example: Export only entities and relations",id:"example-export-only-entities-and-relations",level:3},{value:"Exclude items from export",id:"exclude-items-from-export",level:2},{value:"Example: Export data excluding assets, entities, and relations",id:"example-export-data-excluding-assets-entities-and-relations",level:3}],d=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)},m=d("Tabs"),c=d("TabItem"),u=d("FeedbackPlaceholder"),y={toc:s};function k(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},y,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"data-export"},"Data export"),(0,o.kt)("p",null,":::strapi v4.6.0 feature\nData export is available in v4.6.0 and newer versions of Strapi. See the ",(0,o.kt)("a",{parentName:"p",href:"/dev-docs/update-version"},"Updates and Migration documentation")," to upgrade your application.\n:::"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"strapi export")," command is used to export data from a local Strapi instance. By default, the ",(0,o.kt)("inlineCode",{parentName:"p"},"strapi export")," command exports data as an encrypted and compressed ",(0,o.kt)("inlineCode",{parentName:"p"},"tar.gz.enc")," file which includes:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"the project configuration,"),(0,o.kt)("li",{parentName:"ul"},"entities: all of your content,"),(0,o.kt)("li",{parentName:"ul"},"links: relations between your entities,"),(0,o.kt)("li",{parentName:"ul"},"assets: files stored in the uploads folder,"),(0,o.kt)("li",{parentName:"ul"},"schemas,"),(0,o.kt)("li",{parentName:"ul"},"the ",(0,o.kt)("inlineCode",{parentName:"li"},"metadata.json")," file.")),(0,o.kt)("p",null,"The following documentation details the available options to customize your data export. The export command and all of the available options are run using the ",(0,o.kt)("a",{parentName:"p",href:"/dev-docs/cli#strapi-export"},"Strapi CLI"),"."),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"Admin users and API tokens are not exported."),(0,o.kt)("li",{parentName:"ul"},"Media from a 3rd party provider (e.g., Cloudinary or AWS S3) are not included in the export as those files do not exist in the upload folders."))),(0,o.kt)("h2",{id:"name-the-export-file"},"Name the export file"),(0,o.kt)("p",null,"Exported data are contained in a ",(0,o.kt)("inlineCode",{parentName:"p"},".tar")," file that is automatically named using the format ",(0,o.kt)("inlineCode",{parentName:"p"},"export_YYYYMMDDHHMMSS"),". You can optionally name the exported file by passing the ",(0,o.kt)("inlineCode",{parentName:"p"},"--file")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"-f")," option with the ",(0,o.kt)("inlineCode",{parentName:"p"},"strapi export")," command. Do not include a file extension as one will be set automatically depending on options provided."),(0,o.kt)("h3",{id:"example-export-data-with-a-custom-filename"},"Example: Export data with a custom filename"),(0,o.kt)(m,{groupId:"yarn-npm",mdxType:"Tabs"},(0,o.kt)(c,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn strapi export --file my-strapi-export\n"))),(0,o.kt)(c,{value:"npm",label:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm run strapi export -- --file my-strapi-export\n")))),(0,o.kt)("h2",{id:"configure-data-encryption"},"Configure data encryption"),(0,o.kt)("p",null,"The default ",(0,o.kt)("inlineCode",{parentName:"p"},"strapi export")," command encrypts your project data using ",(0,o.kt)("inlineCode",{parentName:"p"},"aes-128-ecb")," encryption and adds the file extension ",(0,o.kt)("inlineCode",{parentName:"p"},".enc"),". To use encryption you need to pass an encryption key using the ",(0,o.kt)("inlineCode",{parentName:"p"},"-k")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"--key")," option or enter an encryption key when prompted. The encryption key is a ",(0,o.kt)("inlineCode",{parentName:"p"},"string")," with no minimum character count."),(0,o.kt)("admonition",{title:"Encryption keys",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Strong encryption keys are encouraged to protect sensitive data in your project. ",(0,o.kt)("a",{parentName:"p",href:"https://www.openssl.org/"},"OpenSSL")," is a resource for generating encryption keys. The following example commands generate encryption keys in a terminal:"),(0,o.kt)(m,{mdxType:"Tabs"},(0,o.kt)(c,{value:"mac",label:"Mac/Linux",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"openssl rand -base64 48\n"))),(0,o.kt)(c,{value:"windows",label:"Windows",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"node -p \"require('crypto').randomBytes(48).toString('base64');\"\n"))))),(0,o.kt)("p",null,"To disable encryption, pass the ",(0,o.kt)("inlineCode",{parentName:"p"},"--no-encrypt")," option with the ",(0,o.kt)("inlineCode",{parentName:"p"},"strapi export")," command."),(0,o.kt)("h3",{id:"example-export-data-without-encryption"},"Example: Export data without encryption"),(0,o.kt)(m,{groupId:"yarn-npm",mdxType:"Tabs"},(0,o.kt)(c,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn strapi export --no-encrypt\n"))),(0,o.kt)(c,{value:"npm",label:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm run strapi export -- --no-encrypt\n")))),(0,o.kt)("h3",{id:"example-export-data-with-the-encryption---key-option"},"Example: Export data with the encryption ",(0,o.kt)("inlineCode",{parentName:"h3"},"--key")," option"),(0,o.kt)(m,{groupId:"yarn-npm",mdxType:"Tabs"},(0,o.kt)(c,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn strapi export --key my-encryption-key\n"))),(0,o.kt)(c,{value:"npm",label:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm run strapi export -- --key my-encryption-key\n")))),(0,o.kt)("h2",{id:"disable-data-compression"},"Disable data compression"),(0,o.kt)("p",null,"The default ",(0,o.kt)("inlineCode",{parentName:"p"},"strapi export")," command compresses your project data using ",(0,o.kt)("inlineCode",{parentName:"p"},"gzip")," compression and adds the ",(0,o.kt)("inlineCode",{parentName:"p"},".gz")," file extension."),(0,o.kt)("p",null,"To disable compression, pass the ",(0,o.kt)("inlineCode",{parentName:"p"},"--no-compress")," option with the ",(0,o.kt)("inlineCode",{parentName:"p"},"strapi export")," command."),(0,o.kt)("h3",{id:"example-export-data-without-compression"},"Example: Export data without compression"),(0,o.kt)(m,{groupId:"yarn-npm",mdxType:"Tabs"},(0,o.kt)(c,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn strapi export --no-compress\n"))),(0,o.kt)(c,{value:"npm",label:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm run strapi export -- --no-compress\n")))),(0,o.kt)("h2",{id:"export-only-selected-types-of-data"},"Export only selected types of data"),(0,o.kt)("p",null,"The default ",(0,o.kt)("inlineCode",{parentName:"p"},"strapi export")," command exports your content (entities and relations), files (assets), project configuration, and schemas. The ",(0,o.kt)("inlineCode",{parentName:"p"},"--only")," option allows you to export only the listed items by passing a comma-separated string  with no spaces between the types. The available values are ",(0,o.kt)("inlineCode",{parentName:"p"},"content"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"files"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"config"),". Schemas are always exported, as schema matching is used for ",(0,o.kt)("inlineCode",{parentName:"p"},"strapi import"),"."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Media such as images consist of the file (asset) and the entity in the database. If you use the ",(0,o.kt)("inlineCode",{parentName:"p"},"--only")," flag to export ",(0,o.kt)("inlineCode",{parentName:"p"},"content"),", the asset database records are still included, and could render as broken links.")),(0,o.kt)("h3",{id:"example-export-only-entities-and-relations"},"Example: Export only entities and relations"),(0,o.kt)("br",null),(0,o.kt)(m,{groupId:"yarn-npm",mdxType:"Tabs"},(0,o.kt)(c,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn strapi export --only content\n"))),(0,o.kt)(c,{value:"npm",label:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm run strapi export -- --only content\n")))),(0,o.kt)("h2",{id:"exclude-items-from-export"},"Exclude items from export"),(0,o.kt)("p",null,"The default ",(0,o.kt)("inlineCode",{parentName:"p"},"strapi export")," command exports your content (entities and relations), files (assets), project configuration, and schemas. The ",(0,o.kt)("inlineCode",{parentName:"p"},"--exclude")," option allows you to exclude content, files, and the project configuration by passing these items in a comma-separated string with no spaces between the types. You can't exclude the schemas, as schema matching is used for ",(0,o.kt)("inlineCode",{parentName:"p"},"strapi import"),"."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Media such as images consist of the file (asset) and the entity in the database. If you use the ",(0,o.kt)("inlineCode",{parentName:"p"},"--exclude")," flag to remove assets, the database records are still included, and could render as broken links.")),(0,o.kt)("h3",{id:"example-export-data-excluding-assets-entities-and-relations"},"Example: Export data excluding assets, entities, and relations"),(0,o.kt)(m,{groupId:"yarn-npm",mdxType:"Tabs"},(0,o.kt)(c,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn strapi export --exclude files,content\n"))),(0,o.kt)(c,{value:"npm",label:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm run strapi export -- --exclude files,content\n")))),(0,o.kt)(u,{mdxType:"FeedbackPlaceholder"}))}k.isMDXComponent=!0}}]);