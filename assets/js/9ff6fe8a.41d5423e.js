"use strict";(self.webpackChunkstrapi_docs=self.webpackChunkstrapi_docs||[]).push([[5053],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=i.createContext({}),l=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=l(e.components);return i.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),m=l(n),u=o,y=m["".concat(s,".").concat(u)]||m[u]||c[u]||a;return n?i.createElement(y,r(r({ref:t},d),{},{components:n})):i.createElement(y,r({ref:t},d))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,r=new Array(a);r[0]=m;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:o,r[1]=p;for(var l=2;l<a;l++)r[l]=n[l];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},44884:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>c,frontMatter:()=>a,metadata:()=>p,toc:()=>l});var i=n(83117),o=(n(67294),n(3905));const a={title:"WYSIWYG customizations",displayed_sidebar:"devDocsSidebar",description:"Migrate WYSIWYG customizations from Strapi v3.6.x to v4.0.x with step-by-step instructions"},r="v4 code migration: Updating WYSIWYG customizations",p={unversionedId:"dev-docs/migration/v3-to-v4/code/wysiwyg",id:"dev-docs/migration/v3-to-v4/code/wysiwyg",title:"WYSIWYG customizations",description:"Migrate WYSIWYG customizations from Strapi v3.6.x to v4.0.x with step-by-step instructions",source:"@site/docs/dev-docs/migration/v3-to-v4/code/wysiwyg.md",sourceDirName:"dev-docs/migration/v3-to-v4/code",slug:"/dev-docs/migration/v3-to-v4/code/wysiwyg",permalink:"/aberabook/dev-docs/migration/v3-to-v4/code/wysiwyg",draft:!1,editUrl:"https://github.com/labs-solo/aberabook/edit/main/docusaurus/docs/dev-docs/migration/v3-to-v4/code/wysiwyg.md",tags:[],version:"current",frontMatter:{title:"WYSIWYG customizations",displayed_sidebar:"devDocsSidebar",description:"Migrate WYSIWYG customizations from Strapi v3.6.x to v4.0.x with step-by-step instructions"},sidebar:"devDocsSidebar",previous:{title:"Webpack configuration",permalink:"/aberabook/dev-docs/migration/v3-to-v4/code/webpack"},next:{title:"Plugin migration guide",permalink:"/aberabook/dev-docs/migration/v3-to-v4/plugin-migration"}},s={},l=[],d={toc:l};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"v4-code-migration-updating-wysiwyg-customizations"},"v4 code migration: Updating WYSIWYG customizations"),(0,o.kt)("p",null,"This guide is part of the ",(0,o.kt)("a",{parentName:"p",href:"/aberabook/dev-docs/migration/v3-to-v4/code-migration"},"v4 code migration guide")," designed to help you migrate the code of a Strapi application from v3.6.x to v4.0.x"),(0,o.kt)("p",null,":::strapi v3/v4 comparison\nIn Strapi v3, the WYSIWYG is customized by overriding the original component and replacing the file."),(0,o.kt)("p",null,"In Strapi v4, file replacement is no longer supported. To customize the default WYSIWYG, the new ",(0,o.kt)("inlineCode",{parentName:"p"},"addFields()")," method should be used with the ",(0,o.kt)("a",{parentName:"p",href:"/dev-docs/admin-panel-customization#extension"},"extensions system"),"."),(0,o.kt)("p",null,":::"),(0,o.kt)("p",null,"To migrate WYSIWYG customizations to Strapi v4:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Create the ",(0,o.kt)("inlineCode",{parentName:"p"},"./src/admin/extensions")," folder.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In ",(0,o.kt)("inlineCode",{parentName:"p"},"./src/admin/extensions"),", create a new ",(0,o.kt)("inlineCode",{parentName:"p"},"components")," subfolder.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In ",(0,o.kt)("inlineCode",{parentName:"p"},"./src/admin/extensions/components"),", create a new component file (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"MyNewWysiwyg.js"),") and add your logic here. This file will be used to replace the default WYSIWYG editor.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Rename the ",(0,o.kt)("inlineCode",{parentName:"p"},"./src/admin/app.example.js")," file from Strapi v3 to ",(0,o.kt)("inlineCode",{parentName:"p"},"./src/admin/app.js"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Update ",(0,o.kt)("inlineCode",{parentName:"p"},"./src/admin/app.js")," with the following modifications:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Import the new WYSIWYG component created at step 3."),(0,o.kt)("li",{parentName:"ul"},"Inject the new WYSIWYG component by using the ",(0,o.kt)("inlineCode",{parentName:"li"},"addFields()")," method inside the ",(0,o.kt)("inlineCode",{parentName:"li"},"bootstrap")," lifecycle of the application. ",(0,o.kt)("inlineCode",{parentName:"li"},"addFields()")," accepts an object with 2 properties: set ",(0,o.kt)("inlineCode",{parentName:"li"},"type")," to ",(0,o.kt)("inlineCode",{parentName:"li"},"'wysiwyg'")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"Component")," to the name of the imported WYSIWYG component.")),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="./src/admin/app.js"',title:'"./src/admin/app.js"'},"\nimport MyNewWysiwyg from './extensions/components/MyNewWysiwyg'\n\nexport default {\n  bootstrap(app) {\n    app.addFields({ type: 'wysiwyg', Component: MyNewWysiwyg });\n  },\n};\n")))),(0,o.kt)("admonition",{title:"Customization tip",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"The WYSIWYG can also be replaced by a plugin that adds new fields. You can find community WYSIWYG plugins in the ",(0,o.kt)("a",{parentName:"p",href:"https://market.strapi.io"},"Strapi Market")," or ",(0,o.kt)("a",{parentName:"p",href:"/dev-docs/plugins-development"},"develop your own plugin"),".")))}c.isMDXComponent=!0}}]);